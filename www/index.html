
<script src="bower_components/webcomponentsjs/webcomponents-lite.js"></script>

<!--<link rel="import" href="elements/google-map.html">

<google-map></google-map>
-->

<style>
  #map {
    height: 300px;
  }
</style>

<div id="map"></div>

<script>

var map;
var pos;

function initMap(location) {

  pos = {
    lat: location.coords.latitude,
    lng: location.coords.longitude
  };

  map = new google.maps.Map(document.getElementById('map'), {
    center: pos,
    zoom: 17
  });

  mark();
}

function getLocation() {

    if (navigator.geolocation) {
        return navigator.geolocation.getCurrentPosition(initMap);
    } else {
        throw  "Geolocation is not supported.";
    }
}

function mark(){
  var marker = new google.maps.Marker({
      map: map,
      // Define the place with a location, and a query string.
      place: {
        location: pos,
        query: 'Google, Sydney, Australia'

      }/*,
      // Attributions help users find your site again.
      attribution: {
        source: 'Google Maps JavaScript API',
        webUrl: 'https://developers.google.com/maps/'
      }*/
    });
}
</script>

<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAGk0NK4Lj1ivVvp2vBCzZlKgkrdTaX56A&callback=getLocation"
    async defer></script>
